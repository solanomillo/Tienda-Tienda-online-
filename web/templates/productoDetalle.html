{% extends 'base.html' %} {% load custom_filters %} {% load static %} {% block
content %}
<div class="container mt-4">
  <div class="row g-4">
    <!-- Product Images Carousel -->
    <div class="col-lg-6">
      <div id="productCarousel" class="carousel slide" data-bs-ride="carousel">
        <div class="carousel-indicators">
          <button
            type="button"
            data-bs-target="#productCarousel"
            data-bs-slide-to="0"
            class="active"
          ></button>
          <button
            type="button"
            data-bs-target="#productCarousel"
            data-bs-slide-to="1"
          ></button>
        </div>
        <div class="carousel-inner rounded-3 shadow">
          <div class="carousel-item active">
            {% if producto.imagen %}
            <img
              src="{{producto.imagen.url}}"
              class="d-block w-100"
              alt="Product Image"
            />
            {% else %}
            <img
              src="https://via.placeholder.com/600x400"
              class="d-block w-100"
              alt="Placeholder"
            />
            {% endif %}
          </div>
          <div class="carousel-item">
            {% if producto.imagen %}
            <img
              src="{{producto.imagen.url}}"
              class="d-block w-100"
              alt="Product Image"
            />
            {% else %}
            <img
              src="https://via.placeholder.com/600x400"
              class="d-block w-100"
              alt="Placeholder"
            />
            {% endif %}
          </div>
        </div>
        <button
          class="carousel-control-prev"
          type="button"
          data-bs-target="#productCarousel"
          data-bs-slide="prev"
        >
          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Previous</span>
        </button>
        <button
          class="carousel-control-next"
          type="button"
          data-bs-target="#productCarousel"
          data-bs-slide="next"
        >
          <span class="carousel-control-next-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Next</span>
        </button>
      </div>

      <!-- Thumbnails -->
      <div class="row mt-3 g-2">
        <div class="col-6">
          {% if producto.imagen %}
          <img
            src="{{producto.imagen.url}}"
            class="img-thumbnail w-100"
            alt="Thumbnail"
          />
          {% else %}
          <img
            src="https://via.placeholder.com/150"
            class="img-thumbnail w-100"
            alt="Thumbnail"
          />
          {% endif %}
        </div>
        <div class="col-6">
          {% if producto.imagen %}
          <img
            src="{{producto.imagen.url}}"
            class="img-thumbnail w-100"
            alt="Thumbnail"
          />
          {% else %}
          <img
            src="https://via.placeholder.com/150"
            class="img-thumbnail w-100"
            alt="Thumbnail"
          />
          {% endif %}
        </div>
      </div>
    </div>

    <!-- Product Details -->
    <div class="col-lg-6">
      <div class="card h-100 border-0 shadow-sm">
        <div class="card-body">
          <!-- Product Name -->
          <h1 class="h1 mb-3 btn btn-warning btn-lg">{{producto.titulo}}</h1>
          <!-- Category -->
          <p class="text-muted mb-1">
            <a
              href="{% url 'web:productosPorCategoria' producto.categoria.slug %}"
              class="text-decoration-none"
              >Categoria: {{producto.categoria}}</a
            >
          </p>

          <!-- Price -->
          <h3 class="h4 text-success mb-4">
            ${{producto.precio|peso_argentino}}
          </h3>

          <!-- Description -->
          <p class="mb-4">{{producto.descripcion}}</p>

          <!-- Add to Cart Form -->
          <form
            action="{% url 'cart:agregarCarrito' producto.id %}"
            method="post"
            class="mb-4"
          >
            {% csrf_token %}

            <!-- Quantity -->
            <div class="mb-4">
              <label class="form-label">Cantidad</label>
              <div class="input-group" style="max-width: 150px">
                <button
                  class="btn btn-outline-secondary"
                  type="button"
                  id="decrement"
                >
                  -
                </button>
                <input
                  type="number"
                  readonly
                  name="cantidad"
                  class="form-control text-center"
                  value="1"
                />
                <button
                  class="btn btn-outline-secondary"
                  type="button"
                  id="increment"
                >
                  +
                </button>
              </div>
            </div>

            <!-- Add to Cart Button -->
            <button type="submit" class="btn btn-primary btn-lg w-100">
              <i class="fas fa-shopping-cart me-2"></i> Agregar al Carrito
            </button>
          </form>

          <!-- Product Meta -->
          <div class="border-top pt-3">
            <dl class="row">
              <!-- AquÃ­ puedes agregar metadatos adicionales si es necesario -->
            </dl>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<!-- Script para incrementar/decrementar cantidad -->
{% block scripts %}
<script src="{% static 'js/producto_detail.js' %}"></script>
{% endblock %}
